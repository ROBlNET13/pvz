<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="Custom.css" />
		<link rel="stylesheet" href="UI.css" />
		<title>UI Tester</title>
	</head>
	<body id="dBody">
		<div id="dAll" class="WindowFrame"></div>
		<svg style="width: 0; height: 0">
			<defs>
				<filter id="cardboard" x="-50%" y="-50%" width="200%" height="200%">
					<feColorMatrix
						type="matrix"
						values="
							1.25  0 0 0 0
							0     0.788 0 0 0
							0     0 0.627 0 0
							0     0 0     1 0
						"
						result="coloredImage"
					></feColorMatrix>

					<feComponentTransfer in="coloredImage" result="brightenedImage">
						<feFuncR type="linear" slope="0.9"></feFuncR>
						<feFuncG type="linear" slope="0.9"></feFuncG>
						<feFuncB type="linear" slope="0.9"></feFuncB>
						<!-- Keep alpha unchanged -->
						<feFuncA type="identity"></feFuncA>
					</feComponentTransfer>

					<feColorMatrix
						type="matrix"
						values="
           					0.9801 0.0199 0.0000 0 0
           					0.0000 0.9801 0.0199 0 0
           					0.0000 0.0000 0.9801 0 0
           					0      0      0      1 0
        				"
						in="brightenedImage"
						result="sepiaEffect"
					></feColorMatrix>

					<feColorMatrix
						type="matrix"
						values="
               				0.393  0.769  0.189  0  0
               				0.349  0.686  0.168  0  0
               				0.272  0.534  0.131  0  0
               				0      0      0      1  0
           				"
						in="SourceGraphic"
						result="fullSepia"
					/>
					<feBlend in="brightenedImage" in2="fullSepia" mode="normal" result="sepiaBlended" style="mix-blend-mode: lighten"></feBlend>

					<feColorMatrix
						type="matrix"
						values="
            				1.25  0 0 0 0
            				0     0.788 0 0 0
            				0     0 0.627 0 0
            				0     0 0     1 0
        				"
						in="SourceGraphic"
						result="coloredImage"
					></feColorMatrix>
					<feComponentTransfer in="coloredImage" result="processedImage">
						<feFuncR type="linear" slope="0.9"></feFuncR>
						<feFuncG type="linear" slope="0.9"></feFuncG>
						<feFuncB type="linear" slope="0.9"></feFuncB>
						<feFuncA type="identity"></feFuncA>
					</feComponentTransfer>

					<feGaussianBlur in="SourceAlpha" stdDeviation="0" result="blur1" />
					<feOffset dx="-2" dy="-2" in="blur1" result="offsetBlur1" />
					<feFlood flood-color="rgb(171, 135, 107)" result="shadowColor1" />
					<feComposite in="shadowColor1" in2="offsetBlur1" operator="in" result="shadow1" />

					<feGaussianBlur in="SourceAlpha" stdDeviation="0" result="blur2" />
					<feOffset dx="4" dy="4" in="blur3" result="offsetBlur3" />
					<feFlood flood-color="rgb(122, 86, 58)" result="shadowColor3" />
					<feComposite in="shadowColor3" in2="offsetBlur3" operator="in" result="shadow3" />

					<feGaussianBlur in="SourceAlpha" stdDeviation="0" result="blur3" />
					<feOffset dx="2" dy="2" in="blur2" result="offsetBlur2" />
					<feFlood flood-color="rgb(171, 135, 107)" result="shadowColor2" />
					<feComposite in="shadowColor2" in2="offsetBlur2" operator="in" result="shadow2" />

					<feMerge>
						<feMergeNode in="shadow1" />
						<feMergeNode in="shadow3" />
						<feMergeNode in="shadow2" />
						<feMergeNode in="processedImage" />
					</feMerge>
				</filter>
			</defs>
		</svg>
		<svg style="width: 0; height: 0">
			<defs>
				<filter id="cardboardNoShadow" x="-50%" y="-50%" width="200%" height="200%">
					<feColorMatrix
						type="matrix"
						values="
							1.25  0 0 0 0
							0     0.788 0 0 0
							0     0 0.627 0 0
							0     0 0     1 0
						"
						result="coloredImage"
					></feColorMatrix>

					<feComponentTransfer in="coloredImage" result="brightenedImage">
						<feFuncR type="linear" slope="0.9"></feFuncR>
						<feFuncG type="linear" slope="0.9"></feFuncG>
						<feFuncB type="linear" slope="0.9"></feFuncB>
						<!-- Keep alpha unchanged -->
						<feFuncA type="identity"></feFuncA>
					</feComponentTransfer>

					<feColorMatrix
						type="matrix"
						values="
           					0.9801 0.0199 0.0000 0 0
           					0.0000 0.9801 0.0199 0 0
           					0.0000 0.0000 0.9801 0 0
           					0      0      0      1 0
        				"
						in="brightenedImage"
						result="sepiaEffect"
					></feColorMatrix>

					<feColorMatrix
						type="matrix"
						values="
               				0.393  0.769  0.189  0  0
               				0.349  0.686  0.168  0  0
               				0.272  0.534  0.131  0  0
               				0      0      0      1  0
           				"
						in="SourceGraphic"
						result="fullSepia"
					/>
					<feBlend in="brightenedImage" in2="fullSepia" mode="normal" result="sepiaBlended" style="mix-blend-mode: lighten"></feBlend>

					<feColorMatrix
						type="matrix"
						values="
            				1.25  0 0 0 0
            				0     0.788 0 0 0
            				0     0 0.627 0 0
            				0     0 0     1 0
        				"
						in="SourceGraphic"
						result="coloredImage"
					></feColorMatrix>
					<feComponentTransfer in="coloredImage" result="processedImage">
						<feFuncR type="linear" slope="0.9"></feFuncR>
						<feFuncG type="linear" slope="0.9"></feFuncG>
						<feFuncB type="linear" slope="0.9"></feFuncB>
						<feFuncA type="identity"></feFuncA>
					</feComponentTransfer>
				</filter>
			</defs>
		</svg>
		<script>
			window.EBody = document.body;
			window.EElement = document.documentElement;
		</script>
		<script src="js/pako.js" defer></script>
		<!-- <script src="js/html2canvas.js" defer></script> -->
		<script src="js/msgpack.min.js" defer></script>
		<script src="js/WebComponents.js" defer></script>
		<!-- storage utility -->
		<script src="js/StorageUtil.js"></script>
		<!-- cfunction -->
		<script src="js/Cfunction.js"></script>
		<script src="js/Welcome.js"></script>
		<script src="js/Menus.js"></script>
		<script src="js/Custom.js"></script>
		<script src="js/Cheatcodes.js"></script>
		<script src="js/CPlants.js" type="module"></script>
		<script src="js/CZombie.js"></script>
		<script src="js/IZombie.js"></script>
		<script>
			UnloadMenu = function (menuName) {
				alert("UnloadMenu called for " + menuName);
			};
			SelectModal = function (modalName) {
				alert("SelectModal called for " + modalName);
			};
			// check if theres a menu to load
			const search = window.location.search;

			if (search) {
				const [menuName, bgName] = search
					.substring(1)
					.split("&")
					.map((s) => s.trim());
				if (menuName) {
					if (bgName) {
						LoadMenu(menuName, bgName);
					} else {
						LoadMenu(menuName);
					}
				} else {
					LoadMenu("no_menu", "images/interface/Challenge_Background.jpg");
				}
			} else {
				LoadMenu("no_menu", "images/interface/Challenge_Background.jpg");
			}
		</script>
	</body>
</html>
